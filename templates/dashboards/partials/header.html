<!-- templates/dashboards/partials/header.html -->
<div class="modern-dashboard-header">
    <div class="container">
        <!-- Header principal -->
        <div class="header-main">
            <div class="user-section">
                <div class="user-avatar-wrapper">
                    <img src="https://ui-avatars.com/api/?name={{ user_name }}&background=random" 
                         alt="{{ user_name }}" class="user-avatar">
                    <div class="role-indicator 
                        {% if user_role == 0 %}indicator-student
                        {% elif user_role == 1 %}indicator-teacher
                        {% elif user_role == 2 %}indicator-admin
                        {% elif user_role == 3 %}indicator-parent{% endif %}">
                    </div>
                </div>
                <div class="user-info">
                    <h1 class="welcome-title">
                        {% if user_role == 0 %}¡Hola Estudiante!
                        {% elif user_role == 1 %}¡Hola Profesor!
                        {% elif user_role == 2 %}¡Hola Administrador!
                        {% elif user_role == 3 %}¡Hola Padre/Madre!
                        {% else %}¡Hola!
                        {% endif %}
                    </h1>
                    <p class="user-name">{{ user_name }}</p>
                    <span class="role-pill">{{ role_name }}</span>
                </div>
            </div>
            
            <div class="header-controls">  
                <button type="button" class="nav-chip" onclick="history.back()" style="border:none;">
                    <i class="fas fa-arrow-left"></i> Regresar
                </button>   
                <a class="nav-chip" href="{{ url_for('auth.logout') }}">
                    <i class="fas fa-sign-out-alt"></i> Cerrar Sesión
                </a>             
            </div>
        </div>
    </div>
</div>

<style>
.modern-dashboard-header {
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    border-bottom: 1px solid #dee2e6;
    padding: 1.5rem 0;
    margin-bottom: 2rem;
}

.header-main {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.user-section {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.user-avatar-wrapper {
    position: relative;
}

.user-avatar {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    object-fit: cover;
    border: 3px solid white;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.role-indicator {
    position: absolute;
    bottom: 0;
    right: 0;
    width: 18px;
    height: 18px;
    border-radius: 50%;
    border: 2px solid white;
}

.indicator-student { background: #28a745; }
.indicator-teacher { background: #007bff; }
.indicator-admin { background: #dc3545; }
.indicator-parent { background: #17a2b8; }

.welcome-title {
    font-size: 1.5rem;
    font-weight: 700;
    margin: 0;
    color: #2d3748;
}

.user-name {
    font-size: 1.1rem;
    color: #718096;
    margin: 0;
}

.role-pill {
    display: inline-block;
    background: #e2e8f0;
    color: #4a5568;
    padding: 4px 12px;
    border-radius: 12px;
    font-size: 0.8rem;
    font-weight: 600;
}

.header-controls {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.quick-stats {
    display: flex;
    gap: 1rem;
}

.stat-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: #718096;
    font-size: 0.9rem;
}

.header-btn {
    width: 42px;
    height: 42px;
    border: none;
    border-radius: 12px;
    background: white;
    color: #4a5568;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    transition: all 0.2s ease;
}

.header-btn:hover {
    background: #f7fafc;
    transform: translateY(-1px);
}

.header-btn.primary {
    background: #4299e1;
    color: white;
}

.quick-nav {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
}

.nav-chip {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 8px 16px;
    background: white;
    color: #4a5568;
    text-decoration: none;
    border-radius: 20px;
    font-size: 0.9rem;
    font-weight: 500;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    transition: all 0.2s ease;
}

.nav-chip:hover {
    background: #edf2f7;
    color: #2d3748;
    transform: translateY(-1px);
}
</style>